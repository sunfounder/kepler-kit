.. _cpn_ultrasonic:

超音波モジュール
================================

|ultrasonic_pic|

* **TRIG**: トリガーパルス入力
* **ECHO**: エコーパルス出力
* **GND**: 接地
* **VCC**: 5V電源

これはHC-SR04超音波距離センサーで、非接触測定が2cmから400cmまで、精度は最大3mmまで可能です。このモジュールには超音波送信機、受信機、および制御回路が搭載されています。

使用するためには4つのピンを接続するだけ：VCC（電源）、Trig（トリガー）、Echo（受信）、GND（接地）です。

**特長**

* 動作電圧: DC5V
* 動作電流: 16mA
* 動作周波数: 40Hz
* 最大測定範囲: 500cm
* 最小測定範囲: 2cm
* トリガー入力信号: 10uS TTLパルス
* エコー出力信号: 入力TTLレベル信号と距離に比例
* コネクタ: XH2.54-4P
* 寸法: 46x20.5x15 mm

**原理**

基本的な原則は以下の通りです：

* 最低でも10usの高レベル信号でIOトリガーを使用。
* モジュールは40kHzで8サイクルの超音波バーストを送信し、パルス信号が受信されるかどうかを検出します。
* 信号が返されると、エコーは高レベルを出力します。この高レベルの持続時間は、放射から返信までの時間です。
* 距離 = （高レベル時間 x 音速（340M/S））/ 2

|ultrasonic_prin|

公式：

* us / 58 = センチメートル距離
* us / 148 = インチ距離
* distance = 高レベル時間 x 音速（340M/S）/ 2

.. note::

    このモジュールは電源が入っている状態で接続しないでください。必要な場合は、モジュールのGNDを最初に接続してください。そうしないと、モジュールの動作に影響を与えます。

    測定対象のオブジェクトの面積は少なくとも0.5平方メートルで、できるだけ平らである必要があります。そうでないと、結果に影響を与えます。

**例**

* :ref:`py_ultrasonic` （MicroPythonユーザー用）
* :ref:`py_reversing_aid` （MicroPythonユーザー用）
* :ref:`ar_ultrasonic` （Arduinoユーザー用）
* :ref:`per_reversing_system` （Piper Makeユーザー用）
