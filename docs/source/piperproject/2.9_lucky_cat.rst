.. note::

    ¡Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sumérgete en el mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **¿Por qué unirse?**

    - **Soporte de expertos**: Resuelve problemas postventa y desafíos técnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Preestrenos exclusivos**: Obtén acceso anticipado a anuncios de nuevos productos y adelantos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos más recientes.
    - **Promociones y sorteos festivos**: Participa en sorteos y promociones de temporada.

    👉 ¿Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y únete hoy mismo.

.. _per_lucky_cat:

2.9 Gato de la Suerte
==========================

En este proyecto, usamos un módulo PIR y un servo para crear un "Gato de la Suerte". El módulo PIR se utiliza para detectar visitantes, mientras que el servo imita el movimiento de saludo característico de este gato.

**Componentes Necesarios**

Para este proyecto, necesitamos los siguientes componentes. 

Es muy conveniente adquirir un kit completo; aquí tienes el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - COMPONENTES EN ESTE KIT
        - ENLACE
    *   - Kit Kepler	
        - 450+
        - |link_kepler_kit|

También puedes comprarlos por separado en los enlaces a continuación.

.. list-table::
    :widths: 5 20 5 20
    :header-rows: 1

    *   - SN
        - COMPONENTE	
        - CANTIDAD
        - ENLACE

    *   - 1
        - :ref:`cpn_pico_w`
        - 1
        - |link_picow_buy|
    *   - 2
        - Cable Micro USB
        - 1
        - 
    *   - 3
        - :ref:`cpn_breadboard`
        - 1
        - |link_breadboard_buy|
    *   - 4
        - :ref:`cpn_wire`
        - Varios
        - |link_wires_buy|
    *   - 5
        - :ref:`cpn_servo`
        - 1
        - |link_servo_buy|
    *   - 6
        - :ref:`cpn_pir`
        - 1
        - |link_pir_buy|


**Conexión**

|lucky_cat0|


* El cable naranja (señal) del servo está conectado a GP15, el cable rojo (alimentación) está conectado a VBUS y el cable marrón (tierra) está conectado a GND. 
* El pin central del módulo PIR está conectado al GP3.

**Código**


.. note::

    * Puedes referirte a la imagen a continuación para escribir el código arrastrando y soltando.
    * Importa ``2.9_lucky_cat.png`` desde la ruta ``kepler-kit-main\piper``. Para obtener tutoriales detallados, consulta :ref:`import_code_piper`.

|lucky_cat|



* Después de conectar el Pico W, haz clic en el botón **Start** y el código comenzará a ejecutarse.
* Cuando el módulo PIR detecta la llegada de un visitante, el servo oscila de un lado a otro cinco veces y luego se detiene.


**¿Cómo Funciona?**


|lucky_cat1|

Configura la velocidad de rotación del pin15 (servo) al 15%.

|lucky_cat2|

Si GP14 está en bajo, establece la variable [prestate] en 0. Cuando la variable [prestate] es 0 y GP14 cambia a alto (humano detectado), establece la variable [prestate] en 1.

Esto permite que el código principal solo funcione cuando GP14 cambia de bajo a alto, respondiendo una sola vez aunque el módulo PIR siga detectando personas.

|lucky_cat3|

Haz que el servo gire cinco veces en un ciclo de 0 a 180 grados.

* [repeat () times do]: Repite el código dentro del bloque do un número finito de veces.

