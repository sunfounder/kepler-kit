.. _per_button:

2.2 ボタン
=================

このプロジェクトでは、ボタンを使用してLEDをオンまたはオフにする方法を学びます。

**必要な部品**

このプロジェクトで必要な部品は以下の通りです。

一式を購入する方が確実に便利です、リンクはこちらです：

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - 名前	
        - このキットに含まれるアイテム
        - リンク
    *   - ケプラーキット	
        - 450以上
        - |link_kepler_kit|

以下のリンクから個別にも購入可能です。

.. list-table::
    :widths: 5 20 5 20
    :header-rows: 1

    *   - SN
        - 部品	
        - 個数
        - リンク

    *   - 1
        - :ref:`cpn_pico_w`
        - 1
        - |link_picow_buy|
    *   - 2
        - マイクロUSBケーブル
        - 1
        - 
    *   - 3
        - :ref:`cpn_breadboard`
        - 1
        - |link_breadboard_buy|
    *   - 4
        - :ref:`cpn_wire`
        - 数本
        - |link_wires_buy|
    *   - 5
        - :ref:`cpn_resistor`
        - 2（220Ω, 10KΩ）
        - |link_resistor_buy|
    *   - 6
        - :ref:`cpn_led`
        - 1
        - |link_led_buy|
    *   - 7
        - :ref:`cpn_button`
        - 1
        - |link_button_buy|

**配線**

|button0|

* ボタンのピンの一方は3.3Vに、もう一方はGP14に接続されています。ボタンが押されると、GP14は高レベルになります。
* しかし、ボタンが押されていないとき、GP14はサスペンド状態にあり、高レベルでも低レベルでもありえます。ボタンが押されていないときに安定した低レベルを得るために、GP14は10Kプルダウン抵抗を介してGNDに再接続する必要があります。

**コード**

.. note::

    * 下の画像を参考に、ドラッグ&ドロップでコードを書くことができます。
    * ``kepler-kit-main\piper`` のパスから ``2.2_button.png`` をインポートします。詳細なチュートリアルは、 :ref:`import_code_piper` を参照してください。

|2.2_button|

Pico Wに接続した後、 **スタート** ボタンをクリックするとコードが実行されます。ボタンが押されると、LEDが点灯します。ボタンを離すと、LEDが消灯します。

**仕組み**

ボタンが押されると、ピン14は高レベルになります。したがって、読み取ったピン14が高レベルであれば、ピン15をオンにして（LEDを点灯）、それ以外の場合はピン15をオフにします（LEDを消灯）。

* [if () do () else ()]: これは判断ブロックであり、[if]ブロックの後の条件に応じて、[do]ブロック内または[else]ブロック内のブロックを実行するかどうかを決定します。
* [is pin () HIGH]: これは特定のピンのレベルを読むために使用されます。読み取ったレベルが設定したHIGH/LOWと同じ場合、[do]ブロック内のブロックを実行し、それ以外の場合は[else]ブロック内のブロックを実行します。
