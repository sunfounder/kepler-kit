.. _per_reversing_system:

2.11 Rückfahrsystem
==========================

Für dieses Projekt haben wir ein Ultraschallmodul und einen aktiven Summer verwendet, um ein Rückfahralarmsystem zu erstellen. Das Ultraschallmodul dient zur Entfernungsmessung, und der Summer gibt je nach Entfernung unterschiedliche Alarmfrequenzen aus.

**Benötigte Komponenten**

Für dieses Projekt benötigen wir die folgenden Komponenten.

Ein komplettes Set zu kaufen ist definitiv praktisch. Hier ist der Link:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Name	
        - KOMPONENTEN IN DIESEM SET
        - LINK
    *   - Kepler Kit	
        - 450+
        - |link_kepler_kit|

Sie können die Komponenten auch einzeln über die untenstehenden Links erwerben.

.. list-table::
    :widths: 5 20 5 20
    :header-rows: 1

    *   - SN
        - KOMPONENTE	
        - ANZAHL
        - LINK
    *   - 1
        - :ref:`cpn_pico_w`
        - 1
        - |link_picow_buy|
    *   - 2
        - Micro-USB-Kabel
        - 1
        - 
    *   - 3
        - :ref:`cpn_breadboard`
        - 1
        - |link_breadboard_buy|
    *   - 4
        - :ref:`cpn_wire`
        - Mehrere
        - |link_wires_buy|
    *   - 5
        - :ref:`cpn_transistor`
        - 1(S8050)
        - |link_transistor_buy|
    *   - 6
        - :ref:`cpn_resistor`
        - 1(1KΩ)
        - |link_resistor_buy|
    *   - 7
        - Aktiver :ref:`cpn_buzzer`
        - 1
        - 
    *   - 8
        - :ref:`cpn_ultrasonic`
        - 1
        - |link_ultrasonic_buy|


**Verkabelung**

|reversing_system0|

* Die Echo- und Trig-Pins des Ultraschallmoduls sind gleichzeitig mit GP15 verbunden, damit das Ultraschallmodul Signale von GP15 sendet und empfängt.
* Der mittlere Pin des Transistors, der mit dem Summer verbunden ist, ist über einen 1kΩ-Widerstand mit GP14 verbunden.

**Code**

.. note::

    * Sie können sich an der Abbildung unten orientieren, um den Code per Drag-and-Drop zu schreiben. 
    * Importieren Sie ``2.11_reversing_system.png`` aus dem Verzeichnis ``kepler-kit-main\piper``. Detaillierte Anleitungen finden Sie unter :ref:`import_code_piper`.

|reversing_system|

* Nach dem Anschluss des Pico W klicken Sie auf die **Start**-Taste, und der Code wird ausgeführt.
* Wenn die Ultraschallerkennung eine Entfernung von weniger als 5 cm misst, gibt der Summer einen scharfen Ton (0,1 s) aus.
* Wenn die erkannte Entfernung zwischen 5~10 cm liegt, gibt der Summer einen etwas langsameren Ton (0,5 s) aus.
* Wenn die erkannte Entfernung größer als 10 cm ist, erfolgt alle 1 Sekunde ein Tonsignal.


**Funktionsweise**

|reversing_system1|

Lesen Sie die Entfernung (in cm) der Ultraschallerkennung und speichern Sie sie in der Variable [distance].

|reversing_system2|

Wenn die Entfernung weniger als oder gleich 5 ist, setzen Sie die Variable [intervals] auf 0,1 s. Die Variable [intervals] ist das Intervall zwischen den Summerklängen.

|reversing_system3|

Wenn die Entfernung größer als 5 und weniger als oder gleich 10 ist, setzen Sie [intervals] auf 0,5 s.

|reversing_system4|

Wenn die Entfernung größer als 10 ist, setzen Sie die [intervals]-Zeit auf 1 s.

|reversing_system5|

Lassen Sie den Summer schließlich alle [intervals] Sekunden ertönen.

