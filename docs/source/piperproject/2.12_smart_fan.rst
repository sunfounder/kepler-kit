.. note::

    ¬°Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sum√©rgete en el mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **¬øPor qu√© unirse?**

    - **Soporte de expertos**: Resuelve problemas postventa y desaf√≠os t√©cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Preestrenos exclusivos**: Obt√©n acceso anticipado a anuncios de nuevos productos y adelantos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m√°s recientes.
    - **Promociones y sorteos festivos**: Participa en sorteos y promociones de temporada.

    üëâ ¬øListo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y √∫nete hoy mismo.

.. _per_smart_fan:


2.12 Ventilador Inteligente
=================================

Aqu√≠ crearemos un ventilador inteligente controlado por temperatura usando un termistor, TA6586, motor y m√≥dulo de alimentaci√≥n. El ventilador gira autom√°ticamente cuando se alcanza la temperatura configurada.

En este proyecto, necesitamos los siguientes componentes. 

Es muy conveniente adquirir un kit completo; aqu√≠ tienes el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - COMPONENTES EN ESTE KIT
        - ENLACE
    *   - Kit Kepler	
        - 450+
        - |link_kepler_kit|

Tambi√©n puedes comprarlos por separado en los enlaces a continuaci√≥n.

.. list-table::
    :widths: 5 20 5 20
    :header-rows: 1

    *   - SN
        - COMPONENTE	
        - CANTIDAD
        - ENLACE

    *   - 1
        - :ref:`cpn_pico_w`
        - 1
        - |link_picow_buy|
    *   - 2
        - Cable Micro USB
        - 1
        - 
    *   - 3
        - :ref:`cpn_breadboard`
        - 1
        - |link_breadboard_buy|
    *   - 4
        - :ref:`cpn_wire`
        - Varios
        - |link_wires_buy|
    *   - 5
        - :ref:`cpn_ta6586`
        - 1
        - 
    *   - 6
        - :ref:`cpn_motor`
        - 1
        - |link_motor_buy| 
    *   - 7
        - :ref:`cpn_lipo_charger`
        - 1
        -  
    *   - 8
        - Bater√≠a 18650
        - 1
        -  
    *   - 9
        - Portapilas
        - 1
        - 
    *   - 10
        - :ref:`cpn_resistor`
        - 1(10KŒ©)
        - |link_resistor_buy|
    *   - 11
        - :ref:`cpn_photoresistor`
        - 1
        - |link_photoresistor_buy|

**Conexi√≥n**

|temperature_controlled_fan0|


**C√≥digo**

.. note::

    * Puedes referirte a la imagen a continuaci√≥n para escribir el c√≥digo arrastrando y soltando. 
    * Importa ``2.12_smart_fan.png.png`` desde la ruta ``kepler-kit-main\piper``. Para obtener tutoriales detallados, consulta :ref:`import_code_piper`.

|temperature_controlled_fan|

* Despu√©s de conectar el Pico W, haz clic en el bot√≥n **Start** y el c√≥digo comenzar√° a ejecutarse.
* Haz clic en CONSOLA para ver la temperatura actual en Celsius.
* El ventilador comienza a girar cuando la temperatura es superior a 25 grados y se detiene cuando es inferior a 25 grados.

.. note::

    * Si el motor sigue girando despu√©s de hacer clic en el bot√≥n Stop, conecta temporalmente el pin Run del Pico W a GND usando un cable, y luego retira el cable para ejecutar el c√≥digo nuevamente.
    * Esto se debe a que el motor consume mucha corriente, lo que puede hacer que el Pico W se desconecte de la computadora. 

    |wiring_run_reset|


**¬øC√≥mo funciona?**

|temperature_controlled_fan1|

Se lee el voltaje de A0 (GP26) y se asigna a la variable [Vr].

|temperature_controlled_fan2|

Estos c√°lculos convierten los valores del termistor a grados cent√≠grados. 

.. note::
    Aqu√≠ est√° la relaci√≥n entre la resistencia y la temperatura:

    **RT =RN expB(1/TK ‚Äì 1/TN)** 

    * RT es la resistencia del termistor NTC cuando la temperatura es TK. 
    * RN es la resistencia del termistor NTC bajo la temperatura nominal TN. Aqu√≠, el valor de RN es 10k. 
    * TK es una temperatura en Kelvin y la unidad es K. Aqu√≠, el valor de TK es 273.15 + grados Celsius. 
    * TN es una temperatura nominal en Kelvin; la unidad tambi√©n es K. Aqu√≠, el valor de TN es 273.15+25.
    * B (beta) es la constante del material del termistor NTC, tambi√©n conocida como √≠ndice de sensibilidad t√©rmica, con un valor de 3950. 
    * exp es la abreviatura de exponencial, y la base e es un n√∫mero natural que vale aproximadamente 2.7.

    Convierte esta f√≥rmula a **TK=1/(ln(RT/RN)/B+1/TN)** para obtener la temperatura en Kelvin, que menos 273.15 equivale a grados Celsius. 

    Esta relaci√≥n es una f√≥rmula emp√≠rica y es precisa solo cuando la temperatura y la resistencia est√°n dentro del rango efectivo.


|temperature_controlled_fan5|

Cuando la temperatura es superior a 25 grados Celsius, ajusta GP14 a ON y GP15 a OFF para que el motor gire, o invierte sus niveles. Cuando la temperatura es inferior a 25 grados Celsius, ajusta GP14 y GP15 ambos en bajo para detener el motor.

