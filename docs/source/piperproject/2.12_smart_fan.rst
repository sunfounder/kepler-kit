.. note::

    Bonjour, bienvenue dans la communaut√© des passionn√©s de SunFounder Raspberry Pi, Arduino et ESP32 sur Facebook ! Plongez plus profond√©ment dans le monde des Raspberry Pi, Arduino et ESP32 avec d'autres passionn√©s.

    **Pourquoi nous rejoindre ?**

    - **Support d'experts** : R√©solvez les probl√®mes post-achat et les d√©fis techniques avec l'aide de notre communaut√© et de notre √©quipe.
    - **Apprendre et partager** : √âchangez des astuces et des tutoriels pour am√©liorer vos comp√©tences.
    - **Avant-premi√®res exclusives** : B√©n√©ficiez d'un acc√®s anticip√© aux annonces de nouveaux produits et aux avant-premi√®res.
    - **R√©ductions sp√©ciales** : Profitez de r√©ductions exclusives sur nos derniers produits.
    - **Promotions festives et concours** : Participez √† des concours et promotions sp√©ciales durant les f√™tes.

    üëâ Pr√™t √† explorer et cr√©er avec nous ? Cliquez sur [|link_sf_facebook|] et rejoignez-nous d√®s aujourd'hui !

.. _per_smart_fan:

2.12 Ventilateur Intelligent
================================

Nous allons r√©aliser un ventilateur intelligent contr√¥l√© par temp√©rature √† l'aide d'un thermistor, d'un TA6586, d'un moteur et d'un module d'alimentation. Le ventilateur se met en marche automatiquement lorsque la temp√©rature d√©finie est atteinte.

Dans ce projet, nous aurons besoin des composants suivants.

Il est certainement plus pratique d'acheter un kit complet, voici le lien : 

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nom	
        - √âL√âMENTS DANS CE KIT
        - LIEN
    *   - Kit Kepler	
        - 450+
        - |link_kepler_kit|

Vous pouvez √©galement les acheter s√©par√©ment en suivant les liens ci-dessous.

.. list-table::
    :widths: 5 20 5 20
    :header-rows: 1

    *   - SN
        - COMPOSANT	
        - QUANTIT√â
        - LIEN

    *   - 1
        - :ref:`cpn_pico_w`
        - 1
        - |link_picow_buy|
    *   - 2
        - C√¢ble Micro USB
        - 1
        - 
    *   - 3
        - :ref:`cpn_breadboard`
        - 1
        - |link_breadboard_buy|
    *   - 4
        - :ref:`cpn_wire`
        - Plusieurs
        - |link_wires_buy|
    *   - 5
        - :ref:`cpn_ta6586`
        - 1
        - 
    *   - 6
        - :ref:`cpn_motor`
        - 1
        - |link_motor_buy| 
    *   - 7
        - :ref:`cpn_lipo_charger`
        - 1
        -  
    *   - 8
        - Batterie 18650
        - 1
        -  
    *   - 9
        - Support de Batterie
        - 1
        - 
    *   - 10
        - :ref:`cpn_resistor`
        - 1 (10KŒ©)
        - |link_resistor_buy|
    *   - 11
        - :ref:`cpn_photoresistor`
        - 1
        - |link_photoresistor_buy|

**C√¢blage**

|temperature_controlled_fan0|

**Code**

.. note::

    * Vous pouvez vous r√©f√©rer √† l'image ci-dessous pour √©crire du code en utilisant le glisser-d√©poser. 
    * Importez ``2.12_smart_fan.png.png`` depuis le chemin ``kepler-kit-main\piper``. Pour des tutoriels d√©taill√©s, veuillez consulter :ref:`import_code_piper`.

|temperature_controlled_fan|

* Apr√®s avoir connect√© le Pico W, cliquez sur le bouton **D√©marrer** pour lancer le code.
* Cliquez sur CONSLE, vous verrez la temp√©rature actuelle en degr√©s Celsius.
* Le ventilateur commence √† tourner lorsqu'il d√©passe 25 degr√©s, et s'arr√™te lorsqu'il est en dessous de 25 degr√©s.

.. note::

    * Si le moteur continue de tourner apr√®s avoir cliqu√© sur le bouton Stop, vous devez r√©initialiser la broche Run sur le Pico W en la connectant avec un fil √† GND, puis d√©branchez ce fil pour relancer le code.
    * Cela est d√ª au fait que le moteur fonctionne avec un courant √©lev√©, ce qui peut entra√Æner une d√©connexion du Pico W de l'ordinateur. 

    |wiring_run_reset|

**Comment √ßa fonctionne ?**

|temperature_controlled_fan1|

La tension de A0 (GP26) est lue et attribu√©e √† la variable [Vr].

|temperature_controlled_fan2|

Ces calculs convertissent les valeurs du thermistor en degr√©s Celsius.

.. note::
    Voici la relation entre la r√©sistance et la temp√©rature : 

    **RT =RN expB(1/TK ‚Äì 1/TN)** 

    * RT est la r√©sistance du thermistor NTC lorsque la temp√©rature est TK. 
    * RN est la r√©sistance du thermistor NTC √† la temp√©rature nominale TN. Ici, la valeur num√©rique de RN est de 10k. 
    * TK est une temp√©rature en Kelvin, l'unit√© est K. Ici, la valeur num√©rique de TK est de 273,15 + degr√©s Celsius. 
    * TN est une temp√©rature Kelvin nominale ; l'unit√© est √©galement K. Ici, la valeur num√©rique de TN est de 273,15 + 25.
    * Et B (b√™ta), la constante de mat√©riau du thermistor NTC, est √©galement appel√©e indice de sensibilit√© thermique, avec une valeur de 3950. 
    * exp est l'abr√©viation de l'exponentielle, et le nombre de base e est un nombre naturel √©gal √† environ 2,7. 

    Convertissez cette formule **TK=1/(ln(RT/RN)/B+1/TN)** pour obtenir la temp√©rature en Kelvin, qui moins 273,15 donne la temp√©rature en degr√©s Celsius. 

    Cette relation est une formule empirique. Elle est pr√©cise uniquement lorsque la temp√©rature et la r√©sistance sont dans la plage effective.

|temperature_controlled_fan5|

Lorsque la temp√©rature est sup√©rieure √† 25 degr√©s Celsius, r√©glez GP14 sur ON et GP15 sur OFF pour faire tourner le moteur, ou inversez leurs niveaux. Lorsque la temp√©rature est inf√©rieure √† 25 degr√©s Celsius, r√©glez √† la fois GP14 et GP15 sur bas pour arr√™ter le moteur.

