.. note::

    こんにちは、SunFounderのRaspberry Pi & Arduino & ESP32愛好家コミュニティへようこそ！Facebook上でRaspberry Pi、Arduino、ESP32についてもっと深く掘り下げ、他の愛好家と交流しましょう。

    **参加する理由は？**

    - **エキスパートサポート**：コミュニティやチームの助けを借りて、販売後の問題や技術的な課題を解決します。
    - **学び＆共有**：ヒントやチュートリアルを交換してスキルを向上させましょう。
    - **独占的なプレビュー**：新製品の発表や先行プレビューに早期アクセスしましょう。
    - **特別割引**：最新製品の独占割引をお楽しみください。
    - **祭りのプロモーションとギフト**：ギフトや祝日のプロモーションに参加しましょう。

    👉 私たちと一緒に探索し、創造する準備はできていますか？[|link_sf_facebook|]をクリックして今すぐ参加しましょう！

.. _per_rainbow_light:

2.4 レインボーライト
======================

このプロジェクトでは、RGB LEDを使って虹のような色彩を表示させます。

RGB LEDは、赤・緑・青のLEDを1つのランプキャップの下に封入するもので、3つのLEDは共通のカソードピンを共有しています。各アノードピンに電気信号が供給されるので、対応する色の光が表示されます。各アノードの電気信号の強度を変更することで、さまざまな色を生成することができます。

**必要なコンポーネント**

このプロジェクトには、以下のコンポーネントが必要です。

こちらのリンクでキット全体を購入すると便利です：

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - 名前
        - キット内容
        - リンク
    *   - ケプラーキット
        - 450+
        - |link_kepler_kit|

以下のリンクから個別に購入することもできます。

.. list-table::
    :widths: 5 20 5 20
    :header-rows: 1

    *   - 番号
        - コンポーネント
        - 個数
        - リンク
    *   - 1
        - :ref:`cpn_pico_w`
        - 1
        - |link_picow_buy|
    *   - 2
        - マイクロUSBケーブル
        - 1
        - 
    *   - 3
        - :ref:`cpn_breadboard`
        - 1
        - |link_breadboard_buy|
    *   - 4
        - :ref:`cpn_wire`
        - 数本
        - |link_wires_buy|
    *   - 5
        - :ref:`cpn_resistor`
        - 6(1-330Ω, 2-220Ω, 3-10KΩ)
        - |link_resistor_buy|
    *   - 6
        - :ref:`cpn_button`
        - 3
        - |link_button_buy|
    *   - 7
        - :ref:`cpn_rgb`
        - 1
        - |link_rgb_led_buy|

**配線**

|img_rgb_pin|

RGB LEDには4本のピンがあります：最も長いピンは共通のカソードピンで、通常GNDに接続されます。最も長いピンの隣の左側のピンは赤で、右側の2本のピンは緑と青です。

|rgb0|

* 同じ電源強度を使用すると、赤いLEDは他の2つよりも明るくなります。その明るさを減らすために、やや大きな抵抗器（330Ω）を使用する必要があります。
* 3つのボタンはそれぞれ赤、緑、青のLEDの点灯を制御するために使用されます。

**コード**

.. note::

    * 下の画像を参考にして、ドラッグ&ドロップでコードを書くことができます。
    * ``kepler-kit-main\piper`` のパスから ``2.4_rainbow_light.png`` をインポートしてください。詳細なチュートリアルについては、 :ref:`import_code_piper` を参照してください。

|rgb_led|

Pico Wに接続した後、 **スタート** ボタンをクリックするとコードが実行されます。各ボタンを個々に押すと単色の光が放たれ、2つのボタンが同時に押された場合、または3つのボタンが同時に押された場合、RGB LEDは最大7色のさまざまな色を放ちます。

.. note::
    実際には、RGB LEDは最大1600万色を放つことができますが、Piper MakeにはPWM信号を出力するためのブロックがないため、ここでは[turn pin() (ON/OFF)]ブロックを使用してRGB LEDが7色を表示するようにしています。

**仕組み**

このプロジェクトは、三つのボタンでRGB LEDを制御すると考えることができます。三つのif判断条件を設定して、三つのボタンが押されているかどうかを判断します。
ボタンが押されると、対応するピンのレベルが高くなり、RGB LEDがさまざまな色を表示するようになります。
